"use client";

import React, { forwardRef, useRef } from "react";

import { cn } from "@/lib/utils";
import { AnimatedBeam } from "@/components/magicui/animated-beam";

const Circle = forwardRef<
  HTMLDivElement,
  { className?: string; children?: React.ReactNode }
>(({ className, children }, ref) => {
  return (
    <div
      ref={ref}
      className={cn(
        "z-10 flex size-20 items-center justify-center rounded-full border-2 bg-white p-3 shadow-[0_0_20px_-12px_rgba(0,0,0,0.8)]",
        className
      )}
    >
      {children}
    </div>
  );
});

Circle.displayName = "Circle";

export default function PoweringIntelliq() {
  const containerRef = useRef<HTMLDivElement>(null);
  const div1Ref = useRef<HTMLDivElement>(null);
  const div2Ref = useRef<HTMLDivElement>(null);
  const div3Ref = useRef<HTMLDivElement>(null);
  const div4Ref = useRef<HTMLDivElement>(null);
  const div5Ref = useRef<HTMLDivElement>(null);
  const div6Ref = useRef<HTMLDivElement>(null);
  const div7Ref = useRef<HTMLDivElement>(null);

  return (
    <div
      className="relative flex h-[600px] w-full items-center justify-center overflow-hidden rounded-lg md:shadow-xl"
      ref={containerRef}
    >
      <div className="flex size-full flex-col max-w-3xl max-h-[200px] items-stretch justify-between gap-10">
        <div className="flex flex-row items-center justify-between">
          <Circle ref={div1Ref}>
            <Icons.supabase />
          </Circle>
          <Circle ref={div5Ref}>
            <Icons.upstash />
          </Circle>
        </div>
        <div className="flex flex-row items-center justify-between">
          <Circle ref={div2Ref}>
            <Icons.shadcn />
          </Circle>
          <Circle ref={div4Ref} className="size-24">
            <Icons.intelliq />
          </Circle>
          <Circle ref={div6Ref}>
            <Icons.openai />
          </Circle>
        </div>
        <div className="flex flex-row items-center justify-between">
          <Circle ref={div3Ref}>
            <Icons.aws />
          </Circle>
          <Circle ref={div7Ref}>
            <Icons.nextjs />
          </Circle>
        </div>
      </div>

      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div1Ref}
        toRef={div4Ref}
        curvature={-100}
        endYOffset={-10}
      />
      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div2Ref}
        toRef={div4Ref}
      />
      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div3Ref}
        toRef={div4Ref}
        curvature={100}
        endYOffset={10}
      />
      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div5Ref}
        toRef={div4Ref}
        curvature={-100}
        endYOffset={-10}
        reverse
      />
      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div6Ref}
        toRef={div4Ref}
        reverse
      />
      <AnimatedBeam
        containerRef={containerRef}
        fromRef={div7Ref}
        toRef={div4Ref}
        curvature={75}
        endYOffset={10}
        reverse
      />
    </div>
  );
}

const Icons = {
  intelliq: () => (
    <svg
      id="Layer_1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1186 346.99"
    >
      <path d="M21.02,0h-.51C14.98,0,10.17,1.98,6.1,5.93,2.03,10,0,14.86,0,20.51v223.8c0,5.76,2.03,10.57,6.1,14.41,4.07,4.07,8.87,6.1,14.41,6.1h.51c5.54,0,10.34-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41V20.51c0-5.65-2.03-10.51-6.1-14.58C31.37,1.98,26.56,0,21.02,0Z" />
      <path d="M164.29,69.51c-22.61,0-41.94,8.03-57.98,24.07-16.05,16.05-24.07,35.38-24.07,57.98v92.74c0,5.76,2.03,10.57,6.1,14.41,4.07,4.07,8.87,6.1,14.41,6.1h.51c5.54,0,10.34-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41v-92.74c0-11.19,3.9-20.74,11.7-28.65,7.91-7.91,17.52-11.87,28.82-11.87s20.74,3.96,28.65,11.87c7.8,7.91,11.7,17.46,11.7,28.65v92.74c0,5.76,2.03,10.57,6.1,14.41,4.07,4.07,8.93,6.1,14.58,6.1h.34c5.76,0,10.57-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41v-92.74c0-22.61-8.02-41.93-24.07-57.98-16.05-16.05-35.32-24.07-57.81-24.07Z" />
      <path d="M347.06,69.51h-25.43V20.51c0-5.65-2.03-10.51-6.1-14.58C311.45,1.98,306.65,0,301.11,0h-.51c-5.54,0-10.34,1.98-14.41,5.93-4.07,4.07-6.1,8.93-6.1,14.58v191.08c0,14.58,5.2,27.13,15.6,37.64,10.51,10.4,23.11,15.6,37.81,15.6h13.56c5.54,0,10.34-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41v-.34c0-5.65-2.03-10.51-6.1-14.58-4.07-4.07-8.87-6.1-14.41-6.1h-13.56c-3.39,0-6.22-1.13-8.48-3.39-2.26-2.26-3.39-5.03-3.39-8.31v-100.54h25.43c5.54,0,10.34-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41v-.34c0-5.65-2.03-10.51-6.1-14.58s-8.87-6.1-14.41-6.1Z" />
      <path d="M556.61,172.09c-9.83,0-16.39,4.64-19.67,13.9-3.84,11.08-10.57,20.12-20.18,27.13-9.83,7.12-20.8,10.68-32.89,10.68-18.2,0-31.59-5.43-40.18-16.28,5.54-2.6,24.3-11.13,56.29-25.6,25.77-11.64,46.57-21.02,62.39-28.14,5.31-2.37,8.93-6.22,10.85-11.53.9-2.37,1.36-4.75,1.36-7.12,0-2.94-.68-5.82-2.03-8.65-7.69-16.95-19.5-30.63-35.43-41.03-16.05-10.62-33.8-15.94-53.24-15.94-26.9,0-49.9,9.55-69,28.65-19.1,19.1-28.65,42.11-28.65,69s9.55,49.91,28.65,69c19.1,19.1,42.1,28.65,69,28.65,21.02,0,40.01-6.16,56.97-18.48,16.73-11.87,28.43-27.47,35.09-46.79.9-2.49,1.36-4.92,1.36-7.29,0-3.95-1.3-7.74-3.9-11.36-4.18-5.88-9.78-8.82-16.78-8.82ZM427.76,167.68c0-15.6,5.43-28.88,16.28-39.84,10.96-10.96,24.24-16.45,39.84-16.45,17.41,0,30.29,4.98,38.66,14.92l-94.77,42.56v-1.19Z" />
      <path d="M635.62,0h-.51c-5.54,0-10.34,1.98-14.41,5.93-4.07,4.07-6.1,8.93-6.1,14.58v223.8c0,5.76,2.03,10.57,6.1,14.41,4.07,4.07,8.87,6.1,14.41,6.1h.51c5.54,0,10.34-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41V20.51c0-5.65-2.03-10.51-6.1-14.58C645.96,1.98,641.16,0,635.62,0Z" />
      <path d="M724.63,0h-.51c-5.54,0-10.34,1.98-14.41,5.93-4.07,4.07-6.1,8.93-6.1,14.58v223.8c0,5.76,2.03,10.57,6.1,14.41,4.07,4.07,8.87,6.1,14.41,6.1h.51c5.54,0,10.34-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41V20.51c0-5.65-2.03-10.51-6.1-14.58C734.97,1.98,730.17,0,724.63,0Z" />
      <path d="M813.13,69.51h-.34c-5.65,0-10.51,2.03-14.58,6.1-4.07,4.07-6.1,8.93-6.1,14.58v154.12c0,5.76,2.03,10.57,6.1,14.41,4.07,4.07,8.93,6.1,14.58,6.1h.34c5.76,0,10.57-2.03,14.41-6.1,4.07-3.84,6.1-8.65,6.1-14.41V90.2c0-5.65-2.03-10.51-6.1-14.58-3.84-4.07-8.65-6.1-14.41-6.1Z" />
      <path d="M1035.72,259.82c18.87-4.41,36.55-12.99,51.57-25.33,2.08-3.97,3.1-8.32,3.1-13.27,0-8.38-2.75-15.03-8.65-20.93-3.37-3.37-6.99-5.67-11.03-7.06-10.56,11.72-24.12,20.07-39,24.46-.71,6.11.29,11.73,3.07,17.19,3.04,5.49,4.1,11.62,3.09,17.75-.39,2.5-1.13,4.91-2.16,7.19Z" />
      <path d="M1121.67,261.53c9.62-15.32,13.51-31.37,11.67-48.16-1.77-17.01-8.74-31.6-20.9-43.77-14.24-14.24-31.41-21.4-51.51-21.48-20.1.08-37.27,7.24-51.51,21.48-11.47,11.47-18.36,25.22-20.67,41.23-.46,3.26-.7,6.48-.75,9.67-20.63-2.67-39.8-12.65-53.54-28.57-.15-.17-.29-.34-.43-.51-14.58-16.84-21.87-36.51-21.87-59,0-25.21,8.87-46.68,26.62-64.43,17.74-17.75,39.16-26.62,64.26-26.62s46.68,8.87,64.43,26.62c17.74,17.75,26.62,39.22,26.62,64.43,0,2.76-.11,5.48-.34,8.16,10.42,4.27,19.94,10.68,28.49,19.23,3.05,3.05,5.82,6.26,8.33,9.59,3.35-11.7,5.05-24.02,5.05-36.98,0-36.51-12.94-67.7-38.83-93.59-26-25.88-57.25-38.83-93.76-38.83s-67.71,12.94-93.59,38.83c-25.88,25.88-38.82,57.08-38.82,93.59,0,33.57,11.19,62.9,33.57,87.99.99,1.11,1.99,2.2,2.99,3.27,24.06,25.58,57.95,39.62,93.07,39.62h5.57c.63,0,1.25-.04,1.88-.05-.02-.06-.04-.12-.06-.19,4.67.56,8.7-.83,12.06-4.19l.35-.35c2.31-2.31,3.7-5,4.16-8.08.54-3.16,0-6.16-1.62-9.01-4.31-8.31-5.81-17.13-4.5-26.45,1.31-9.47,5.39-17.63,12.24-24.48,8.47-8.47,18.63-12.7,30.49-12.7,12.01,0,22.25,4.23,30.72,12.7,8.47,8.47,12.7,18.71,12.7,30.72,0,11.86-4.23,22.02-12.7,30.49l-.58.58c-2.69,2.85-4.04,6.27-4.04,10.28,0,4.01,1.43,7.43,4.27,10.28l27.14,27.14c2.85,2.85,6.31,4.31,10.39,4.39,4,0,7.43-1.42,10.28-4.27l.35-.35c2.85-2.85,4.27-6.27,4.27-10.28-.08-4.08-1.46-7.47-4.16-10.16l-17.79-17.79Z" />
      <path d="M1180.8,316.27c-3.47-3.46-7.7-5.16-12.7-5.08-4.93,0-9.12,1.73-12.59,5.2-3.54,3.54-5.31,7.78-5.31,12.7,0,4.93,1.73,9.12,5.2,12.59,3.54,3.54,7.78,5.32,12.7,5.31,4.93,0,9.16-1.77,12.7-5.31,3.46-3.46,5.2-7.66,5.2-12.59.08-5-1.66-9.28-5.2-12.82Z" />
    </svg>
  ),
  supabase: () => (
    <svg viewBox="0 0 109 113" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M63.7076 110.284C60.8481 113.885 55.0502 111.912 54.9813 107.314L53.9738 40.0627L99.1935 40.0627C107.384 40.0627 111.952 49.5228 106.859 55.9374L63.7076 110.284Z"
        fill="url(#paint0_linear)"
      />
      <path
        d="M63.7076 110.284C60.8481 113.885 55.0502 111.912 54.9813 107.314L53.9738 40.0627L99.1935 40.0627C107.384 40.0627 111.952 49.5228 106.859 55.9374L63.7076 110.284Z"
        fill="url(#paint1_linear)"
        fillOpacity="0.2"
      />
      <path
        d="M45.317 2.07103C48.1765 -1.53037 53.9745 0.442937 54.0434 5.041L54.4849 72.2922H9.83113C1.64038 72.2922 -2.92775 62.8321 2.1655 56.4175L45.317 2.07103Z"
        fill="#3ECF8E"
      />
      <defs>
        <linearGradient
          id="paint0_linear"
          x1="53.9738"
          y1="54.974"
          x2="94.1635"
          y2="71.8295"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#249361" />
          <stop offset="1" stopColor="#3ECF8E" />
        </linearGradient>
        <linearGradient
          id="paint1_linear"
          x1="36.1558"
          y1="30.578"
          x2="54.4844"
          y2="65.0806"
          gradientUnits="userSpaceOnUse"
        >
          <stop />
          <stop offset="1" stopOpacity="0" />
        </linearGradient>
      </defs>
    </svg>
  ),
  openai: () => (
    <svg
      width="100"
      height="100"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z" />
    </svg>
  ),
  upstash: () => (
    <svg
      viewBox="0 0 256 341"
      xmlns="http://www.w3.org/2000/svg"
      width="256"
      height="341"
      preserveAspectRatio="xMidYMid"
    >
      <path
        fill="#00C98D"
        d="M0 298.417c56.554 56.553 148.247 56.553 204.801 0 56.554-56.554 56.554-148.247 0-204.801l-25.6 25.6c42.415 42.416 42.415 111.185 0 153.6-42.416 42.416-111.185 42.416-153.601 0L0 298.416Z"
      />
      <path
        fill="#00C98D"
        d="M51.2 247.216c28.277 28.277 74.123 28.277 102.4 0 28.277-28.276 28.277-74.123 0-102.4l-25.6 25.6c14.14 14.138 14.14 37.061 0 51.2-14.138 14.139-37.061 14.139-51.2 0l-25.6 25.6ZM256 42.415c-56.554-56.553-148.247-56.553-204.8 0-56.555 56.555-56.555 148.247 0 204.801l25.599-25.6c-42.415-42.415-42.415-111.185 0-153.6 42.416-42.416 111.185-42.416 153.6 0L256 42.416Z"
      />
      <path
        fill="#00C98D"
        d="M204.8 93.616c-28.276-28.277-74.124-28.277-102.4 0-28.278 28.277-28.278 74.123 0 102.4l25.6-25.6c-14.14-14.138-14.14-37.061 0-51.2 14.138-14.139 37.06-14.139 51.2 0l25.6-25.6Z"
      />
      <path
        fill="#FFF"
        fillOpacity=".4"
        d="M256 42.415c-56.554-56.553-148.247-56.553-204.8 0-56.555 56.555-56.555 148.247 0 204.801l25.599-25.6c-42.415-42.415-42.415-111.185 0-153.6 42.416-42.416 111.185-42.416 153.6 0L256 42.416Z"
      />
      <path
        fill="#FFF"
        fillOpacity=".4"
        d="M204.8 93.616c-28.276-28.277-74.124-28.277-102.4 0-28.278 28.277-28.278 74.123 0 102.4l25.6-25.6c-14.14-14.138-14.14-37.061 0-51.2 14.138-14.139 37.06-14.139 51.2 0l25.6-25.6Z"
      />
    </svg>
  ),
  nextjs: () => (
    <svg
      width="180"
      height="180"
      viewBox="0 0 180 180"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <mask
        id="mask0_408_139"
        style={{ maskType: "alpha" }}
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="180"
        height="180"
      >
        <circle cx="90" cy="90" r="90" fill="black" />
      </mask>
      <g mask="url(#mask0_408_139)">
        <circle
          cx="90"
          cy="90"
          r="87"
          fill="black"
          stroke="white"
          strokeWidth="6"
        />
        <path
          d="M149.508 157.52L69.142 54H54V125.97H66.1136V69.3836L139.999 164.845C143.333 162.614 146.509 160.165 149.508 157.52Z"
          fill="url(#paint0_linear_408_139)"
        />
        <rect
          x="115"
          y="54"
          width="12"
          height="72"
          fill="url(#paint1_linear_408_139)"
        />
      </g>
      <defs>
        <linearGradient
          id="paint0_linear_408_139"
          x1="109"
          y1="116.5"
          x2="144.5"
          y2="160.5"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="white" />
          <stop offset="1" stopColor="white" stopOpacity="0" />
        </linearGradient>
        <linearGradient
          id="paint1_linear_408_139"
          x1="121"
          y1="54"
          x2="120.799"
          y2="106.875"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="white" />
          <stop offset="1" stopColor="white" stopOpacity="0" />
        </linearGradient>
      </defs>
    </svg>
  ),
  shadcn: () => (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
      <path fill="none" d="M0 0h256v256H0z" />
      <path fill="none" stroke="#000" d="M208 128l-80 80M192 40L40 192" />
    </svg>
  ),
  aws: () => (
    <svg viewBox="0 0 304 182" xmlns="http://www.w3.org/2000/svg">
      <style>{`.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#f90}`}</style>
      <path
        d="m86 66 2 9c0 3 1 5 3 8v2l-1 3-7 4-2 1-3-1-4-5-3-6c-8 9-18 14-29 14-9 0-16-3-20-8-5-4-8-11-8-19s3-15 9-20c6-6 14-8 25-8a79 79 0 0 1 22 3v-7c0-8-2-13-5-16-3-4-8-5-16-5l-11 1a80 80 0 0 0-14 5h-2c-1 0-2-1-2-3v-5l1-3c0-1 1-2 3-2l12-5 16-2c12 0 20 3 26 8 5 6 8 14 8 25v32zM46 82l10-2c4-1 7-4 10-7l3-6 1-9v-4a84 84 0 0 0-19-2c-6 0-11 1-15 4-3 2-4 6-4 11s1 8 3 11c3 2 6 4 11 4zm80 10-4-1-2-3-23-78-1-4 2-2h10l4 1 2 4 17 66 15-66 2-4 4-1h8l4 1 2 4 16 67 17-67 2-4 4-1h9c2 0 3 1 3 2v2l-1 2-24 78-2 4-4 1h-9l-4-1-1-4-16-65-15 64-2 4-4 1h-9zm129 3a66 66 0 0 1-27-6l-3-3-1-2v-5c0-2 1-3 2-3h2l3 1a54 54 0 0 0 23 5c6 0 11-2 14-4 4-2 5-5 5-9l-2-7-10-5-15-5c-7-2-13-6-16-10a24 24 0 0 1 5-34l10-5a44 44 0 0 1 20-2 110 110 0 0 1 12 3l4 2 3 2 1 4v4c0 3-1 4-2 4l-4-2c-6-2-12-3-19-3-6 0-11 0-14 2s-4 5-4 9c0 3 1 5 3 7s5 4 11 6l14 4c7 3 12 6 15 10s5 9 5 14l-3 12-7 8c-3 3-7 5-11 6l-14 2z"
        style={{ fill: "#252f3e" }}
      />
      <path
        className="st1"
        d="M274 144A220 220 0 0 1 4 124c-4-3-1-6 2-4a300 300 0 0 0 263 16c5-2 10 4 5 8z"
      />
      <path
        className="st1"
        d="M287 128c-4-5-28-3-38-1-4 0-4-3-1-5 19-13 50-9 53-5 4 5-1 36-18 51-3 2-6 1-5-2 5-10 13-33 9-38z"
      />
    </svg>
  ),
};
